<?xml version="1.0" encoding="UTF-8"?>
<!--
    Copyright (C) 2013 Jose A. Garcia Sanchez

    This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
    License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
    version.

    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
    warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along with this program. If not, see
    <http://www.gnu.org/licenses/>.
 -->
<antlib 
	xmlns:current="ant:current" 
	xmlns:log="antlib:org.jag.common.log"
	xmlns:antcontrib="antlib:net.sf.antcontrib">

	<macrodef name="check">
		<attribute name="property"/>
		<sequential>
			<antcontrib:if>
			 	<isset property="@{property}"/>
				<then>
					<log:info>@{property} has been set with value [${@{property}}]</log:info>
				</then>
				<else>
					<antcontrib:var name="log.message" unset="true"/>
					<property name="log.message" value="$${@{property}} has not been set"/>

					<log:error>${log.message}</log:error>
					<fail message="${log.message}" status="1"/>
				</else>
			</antcontrib:if>
		</sequential>
	</macrodef>
</antlib>
